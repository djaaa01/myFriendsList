"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6370],{6370:(O,p,d)=>{d.r(p),d.d(p,{HomePageModule:()=>x});var g=d(6814),m=d(95),r=d(1929),_=d(1583),f=d(5861),n=d(9212);let v=(()=>{var e;class c{constructor(t){this.modalCtrl=t}ngOnInit(){}cancel(){return this.modalCtrl.dismiss(null,"cancel")}confirm(){if(this.name)return this.modalCtrl.dismiss(this.name,"confirm")}}return(e=c).\u0275fac=function(t){return new(t||e)(n.Y36(r.IN))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-add-friend"]],decls:12,vars:2,consts:[["slot","start"],["color","medium",3,"click"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],["fill","outline","placeholder","Name",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.NdJ("click",function(){return i.cancel()}),n._uU(4,"Cancel"),n.qZA()(),n.TgZ(5,"ion-title"),n._uU(6,"Add Friend"),n.qZA(),n.TgZ(7,"ion-buttons",2)(8,"ion-button",3),n.NdJ("click",function(){return i.confirm()}),n._uU(9,"Confirm"),n.qZA()()()(),n.TgZ(10,"ion-content",4)(11,"ion-input",5),n.NdJ("ngModelChange",function(l){return i.name=l}),n.qZA()()),2&t&&(n.xp6(8),n.Q6J("strong",!0),n.xp6(3),n.Q6J("ngModel",i.name))},dependencies:[m.JJ,m.On,r.YG,r.Sm,r.W2,r.Gu,r.pK,r.wd,r.sr,r.j9],styles:[".input-fill-outline.has-focus.sc-ion-input-md-h[_ngcontent-%COMP%]{--border-color: #ff5a22}ion-title[_ngcontent-%COMP%]{text-align:center}"]}),c})();var C=d(4723),a=d(5349);let M=(()=>{var e;class c{constructor(t,i){var o;this.firestore=t,this.authService=i,this.currentUser=null===(o=this.authService.getCurrentUse())||void 0===o?void 0:o.uid}addCollentionData(t,i){var o=this;return(0,f.Z)(function*(){const l=(0,a.hJ)(o.firestore,t);return(yield(0,a.ET)(l,{...i})).id})()}update(t,i){const o=(0,a.JU)(this.firestore,`${i}/${t.id}`);return(0,a.pl)(o,Object.assign({},t))}getCollention(t){const i=(0,a.IO)((0,a.hJ)(this.firestore,t),(0,a.ar)("userUID","==",this.currentUser));return(0,a.BS)(i,{idField:"id"})}}return(e=c).\u0275fac=function(t){return new(t||e)(n.LFG(a.gg),n.LFG(C.e))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),c})();function Z(e,c){if(1&e){const s=n.EpF();n.TgZ(0,"ion-item-sliding")(1,"ion-item")(2,"div",10)(3,"span"),n._uU(4),n.qZA(),n.TgZ(5,"div",11)(6,"div",12),n.NdJ("click",function(){const o=n.CHM(s).$implicit,l=n.oxw();return n.KtG(l.onLike(o))}),n.TgZ(7,"span"),n._uU(8),n.qZA(),n._UZ(9,"ion-icon",13),n.qZA(),n.TgZ(10,"div",12),n.NdJ("click",function(){const o=n.CHM(s).$implicit,l=n.oxw();return n.KtG(l.onDislike(o))}),n.TgZ(11,"span"),n._uU(12),n.qZA(),n._UZ(13,"ion-icon",14),n.qZA()()()(),n.TgZ(14,"ion-item-options")(15,"ion-item-option",15),n.NdJ("click",function(){const o=n.CHM(s).$implicit,l=n.oxw();return n.KtG(l.onLike(o))}),n._UZ(16,"ion-icon",13),n.qZA(),n.TgZ(17,"ion-item-option",15),n.NdJ("click",function(){const o=n.CHM(s).$implicit,l=n.oxw();return n.KtG(l.onDislike(o))}),n._UZ(18,"ion-icon",14),n.qZA()()()}if(2&e){const s=c.$implicit;n.xp6(4),n.Oqu(s.name),n.xp6(4),n.Oqu(s.like),n.xp6(4),n.Oqu(s.dislike)}}let h=(()=>{var e;class c{constructor(t,i,o){this.authService=t,this.mainService=i,this.modalCtrl=o,this.friends=[]}ngOnInit(){this.mainService.getCollention("friends").subscribe(t=>{this.friends=t,this.friends.sort(function(i,o){return o.createdDate-i.createdDate})})}openModal(){var t=this;return(0,f.Z)(function*(){const i=yield t.modalCtrl.create({component:v});i.present();const{data:o,role:l}=yield i.onWillDismiss();var u;"confirm"===l&&t.mainService.addCollentionData("friends",{createdDate:new Date,dislike:0,like:0,name:o,userUID:null===(u=t.authService.getCurrentUse())||void 0===u?void 0:u.uid}).then(T=>{console.log(T)})})()}onLike(t){t.like+=1,this.mainService.update(t,"friends").then(i=>{})}onDislike(t){t.dislike+=1,this.mainService.update(t,"friends").then(i=>{})}onLogout(){this.authService.logout()}}return(e=c).\u0275fac=function(t){return new(t||e)(n.Y36(C.e),n.Y36(M),n.Y36(r.IN))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-friends-list"]],decls:16,vars:3,consts:[[3,"translucent"],[3,"fullscreen"],[1,"friends-list"],[4,"ngFor","ngForOf"],[1,"ion-no-border"],["slot","start"],[3,"click"],["slot","icon-only","name","log-in-outline",1,"logout-icon"],["slot","end"],["slot","icon-only","name","add-outline",1,"add-icon"],[1,"item"],[1,"score"],[1,"score__item",3,"click"],["slot","icon-only","name","heart-outline"],["slot","icon-only","name","heart-dislike-outline"],[1,"action",3,"click"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n._uU(3,"Friends List"),n.qZA()()(),n.TgZ(4,"ion-content",1)(5,"div",2)(6,"ion-list"),n.YNc(7,Z,19,3,"ion-item-sliding",3),n.qZA()()(),n.TgZ(8,"ion-footer",4)(9,"ion-toolbar")(10,"ion-buttons",5)(11,"ion-button",6),n.NdJ("click",function(){return i.onLogout()}),n._UZ(12,"ion-icon",7),n.qZA()(),n.TgZ(13,"ion-buttons",8)(14,"ion-button",6),n.NdJ("click",function(){return i.openModal()}),n._UZ(15,"ion-icon",9),n.qZA()()()()),2&t&&(n.Q6J("translucent",!0),n.xp6(4),n.Q6J("fullscreen",!0),n.xp6(3),n.Q6J("ngForOf",i.friends))},dependencies:[g.sg,r.YG,r.Sm,r.W2,r.fr,r.Gu,r.gu,r.Ie,r.u8,r.IK,r.td,r.q_,r.wd,r.sr],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.friends-list[_ngcontent-%COMP%]{margin:20px}ion-list[_ngcontent-%COMP%]{border-radius:20px;padding:unset}.item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:0 10px}.item[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:flex;gap:5px}.item[_ngcontent-%COMP%]   .score__item[_ngcontent-%COMP%]{display:flex;gap:3px;align-items:center}.item[_ngcontent-%COMP%]   .score__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.action[_ngcontent-%COMP%]{background-color:#ff5a22}ion-item[_ngcontent-%COMP%]{--padding-end: 0px;--inner-padding-end: 0px;--padding-start: 0px}.add-icon[_ngcontent-%COMP%]{color:#ff5a22}.logout-icon[_ngcontent-%COMP%]{color:#fff}"]}),c})();const F=[{path:"friends-list",component:h},{path:"**",component:h}];let k=(()=>{var e;class c{}return(e=c).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[_.Bz.forChild(F),_.Bz]}),c})(),x=(()=>{var e;class c{}return(e=c).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.ez,m.u5,r.Pc,k]}),c})()}}]);